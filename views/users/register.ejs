<% layout("layouts/boilerplate") -%>

<div class="container">
  <div class="col-md-6 m-auto">
    <div class="card card-body mt-5">
      <h1 class="text-center mb-3">Register</h1>

      <form action="/users/register" method="POST" class="validated-form" novalidate>
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" name="name" id="name" class="form-control" placeholder="Enter Name" required />
        </div>

        <div class="form-group">
          <label for="email">E-Mail ID</label>
          <input type="email" name="email" id="email" class="form-control" placeholder="Enter E-Mail ID" required />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            name="password"
            id="password"
            class="form-control"
            placeholder="Enter Password"
            required
          />
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input
            type="password"
            name="password2"
            id="confirmPassword"
            class="form-control"
            placeholder="Confirm Password"
            required
          />
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="role">Position</label>
            <select name="role" id="role" class="form-control" required>
              <option value="Member" selected>Member</option>
              <option value="Executive Director">Executive Director</option>
            </select>
          </div>

          <div class="form-group col-md-6">
            <label for="incharge"></label>
            <select name="incharge" id="incharge" class="form-control mt-2" required>
              <option value="" selected disabled>Select ED Incharge</option>
              <option value="Adhihariharan">Adhihariharan</option>
              <option value="Anuja">Anuja</option>
              <option value="Dhivya">Dhivya</option>
              <option value="Govind">Govind</option>
              <option value="Joann">Joann</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-primary btn-block">REGISTER</button>
      </form>

      <p class="mt-3">Already A User ? <a href="/users/login"> Login Here</a></p>
    </div>
  </div>
</div>
<script>
  const role = document.getElementById('role');
  const edIncharge = document.getElementById('incharge');

  role.addEventListener('change', function () {
    if (this.value === 'Executive Director') {
      edIncharge.classList.add('d-none');
      edIncharge.required = false;
    } else {
      edIncharge.classList.remove('d-none');
    }
  });
</script>
